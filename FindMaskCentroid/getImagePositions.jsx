// This script finds the position of layers based on Comp and Layer name// It writes the info to the javascript console on Extendscript Toolkit// Francisco Zamorano, May 2015var project = app.project;//find the Comp and Layervar compName = "150506_Target_Elevation_Nursery_FZ-Bedtime";var layerName = "IoT_Nursery_Bedtime_Mom_"var myComp = project.item(getIndexfromName(compName));//iterate through layers (top to botom)for (var i=1; i<=myComp.layers.length;i++){	var myLayer = myComp.layer(i);        // find any layers with the specified suffix    // note that this will iterate from top to bottom layers, so beware of the output    if(myLayer.name.indexOf(layerName) >= 0){        var currLayer = myLayer;                setAnchorToZero(myLayer); //make sure we put the anchor point on top left corner first of all!        findImagePosition(myLayer); //then find the position and print to console            }}// //iterate through layers bottom to top (inverse)// for (var i=myComp.layers.length; i>=1;i--){//     var myLayer = myComp.layer(i);    //     // find any layers with the specified suffix//     // note that this will iterate from top to bottom layers, so beware of the output//     if(myLayer.name.indexOf(layerName) >= 0){//         var currLayer = myLayer;        //         setAnchorToZero(myLayer); //make sure we put the anchor point on top left corner first of all!//         findImagePosition(myLayer); //then find the position and print to console        //     }// }/*----------------------------------------------------------------------------------------------------------------------------*/function findImagePosition(_layer){     var thisLayer = _layer;     var thisLayerPos = thisLayer.property("Position").value;     $.write(Math.ceil(thisLayerPos[0]));     $.write(", ");     $.writeln(Math.ceil(thisLayerPos[1]));}/*----------------------------------------------------------------------------------------------------------------------------*/function setAnchorToZero(_layer){	 var thisLayer = _layer;     var thisLayerPos = thisLayer.property("Position").value;     var thisLayerW = thisLayer.width;     var thisLayerH = thisLayer.height;     var thisLayerAnchor = thisLayer.property("Anchor Point").value;     //reposition anchor     if(thisLayerAnchor[0] != 0){ //to make sure it does not happen more than once 		thisLayer.property("Anchor Point").setValue([0,0]); 	    var newX = thisLayerPos[0] - thisLayerW/2; 		var newY = thisLayerPos[1] - thisLayerH/2; 		thisLayer.position.setValue([newX, newY]); //set new pos     }}/*----------------------------------------------------------------------------------------------------------------------------*/function getIndexfromName(_name){    for(var i=1;i<project.items.length+1;i++){        var currComp = project.item(i);        if (currComp.name == _name){            //alert(currComp.name +" " + project.item(i).name + " " + i);            return i;        }    }}